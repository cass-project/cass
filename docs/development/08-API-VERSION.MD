08-API-VERSION.MD
=================

Существует два проекта, подлежащих версионированию:

- `Backend REST API`
- `Frontend SPA`

Версионность
------------

- Каждый проект (TODO: должен; пока не реализовано) хранится в отдельном репозитории. 
- Каждая версия отмечается соответсвующим `git tag` с номером версии.
- Версии проектов соответствуют стандарту [http://semver.org/lang/ru/]()

Blacklist
---------

- `Backend REST API` возвращает список версий `Frontend SPA`, которые по тем или иным причинам (не по причине устаревания)
запрещены в использованию. В основном это касается минорных версий.
- Список blacklist-версий возвращается от Version API: `GET /backend/api/version` 
- Список blacklist-версий хранится в `src/backend/src/Domain/config/blacklist.config.php`

Backend REST API
----------------

- Версия проекта хранится в файле `src/backend/composer.json`
- Текущую версию проекта можно узнать в ответе от Frontline API, в ключе `version`
- Текущую версию проекта можно узнать в ответе от Version API: `GET /backend/api/version`

Frontend SPA
------------

- Версия проекта хранится в файле `src/frontend/package.json`

Мобильное приложение
--------------------

- Мобильное приложение (`Mobile App`) само по себе имеет свою версию. 
- Также, мобильное приложение отвечает за актуальную версию `Frontend SPA`.
- Мобильное приложение обязательно должно обновлять `bundles/main.js`, если увеличилась MINOR/MAJOR версия проекта. В случае
   увеличение PATCH-состовляющей версии можно предложить обновление.
- Мобильное приложение обязательно должно обновлять `bundles/main.js`, если обнаружит, что текущая версия проекта попала в blacklist.